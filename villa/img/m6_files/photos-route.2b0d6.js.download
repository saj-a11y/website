/*! For license information please see photos-route.2b0d6.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"3p8y":function(e,t,a){e.exports={containerLayout:"PrOBO",modalBorderRadius:"4px",wrapper:"WMwuA",container:"_1OYbO PrOBO",stickyHeaderContainer:"_33qjA",stickyHeader:"_2-NN4"}},"41dW":function(e,t,a){"use strict";var o=a("m2xi"),n=a.n(o),i=a("TSYQ"),r=a.n(i),c=a("q1tI"),s=a.n(c),l=a("vP3l"),u=a("t7e5"),d=a("SYrX"),p=a("MjpO"),h=a("SORa"),m=a("qs53"),b=a("DYS2"),g=a.n(b);const O=e=>s.a.createElement(h.b,Object.assign({},e,{className:g.a.shareLink,buttonType:"outline"}),(({buttonShareType:e})=>h.a.match({email:()=>s.a.createElement(l.a,{className:g.a.emailShareLinkIcon}),facebook:()=>s.a.createElement(u.a,{className:g.a.facebookShareLinkIcon}),twitter:()=>s.a.createElement(p.a,{className:g.a.twitterShareLinkIcon}),pinterest:()=>s.a.createElement(d.a,{className:g.a.pinterestShareLinkIcon})})(e))({buttonShareType:e.type}),s.a.createElement("span",{className:g.a.shareLinkText},n()(e.type.tag)));var j=({title:e,buttonsShareProps:t,link:a})=>s.a.createElement("div",null,s.a.createElement("div",{className:g.a.container},s.a.createElement("div",{className:g.a.cell},s.a.createElement("h2",{className:g.a.title},"Share"),s.a.createElement("span",{className:g.a.subtitle},e)),s.a.createElement("div",{className:r()(g.a.halfCell,g.a.shareLinks)},t.map(e=>s.a.createElement("div",{key:e.type.tag,className:r()(g.a.halfCell,g.a.shareLinkContainer)},O(e)))),s.a.createElement("div",{className:g.a.cell},s.a.createElement(m.a,{buttonText:"Copy link"},a))));a.d(t,"a",(function(){return j}))},"4raZ":function(e,t,a){"use strict";var o=a("q1tI"),n=a.n(o),i=a("/MKj"),r=a("2Fwo"),c=a("JlLI"),s=a("IVTL"),l=a("4o76"),u=a("ZGnK"),d=a("84kf"),p=a.n(d);const h=Object(s.a)()({relatedCollectionIds:[]});var m=Object(r.a)(Object(i.c)((e,t)=>({relatedCollections:Object(l.c)(e,t.relatedCollectionIds)}))(({relatedCollections:e,heading:t})=>c.i(e)?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:p.a.heading},t),n.a.createElement("div",{className:p.a.contentContainer},n.a.createElement(u.a,{collections:e})))),h);a.d(t,"a",(function(){return m}))},"6Dux":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));const o=e=>t=>e.username===t.username},"84kf":function(e,t,a){e.exports={gutter:"calc(4px * 3)",contentContainer:"_33G6-",heading:"_2gjZV _33G6-"}},"8hMo":function(e,t,a){e.exports={truncate:"_1ByhS",resetBtn:"_3d86A",colorBlack:"#111",transitionSpeedBase:"0.1s",containerTruncated:"_3PLD4",text:"KNDj7",textNotTruncated:"_2FfeD",textTruncated:"b5rtm _1ByhS",toggleButton:"_19oEl _3d86A"}},"9G+b":function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var o=a("umpm"),n=a.n(o),i=a("I7gL"),r=a("wBxZ"),c=a("bnCs"),s=a("rd0y"),l=a("EYcW");const u=e=>{const t=Object(r.a)(e,s.c).map(e=>e.title);return Object(c.pipeWith)(t,i.a,l.q(n.a))}},BUGo:function(e,t,a){e.exports={colorWhite:"#fff",colorGrey400:"#d1d1d1",colorGrey700:"#767676",colorBlack:"#111",colorBlue:"#007fff",colorDarkBlue:"#006aff",followButton:"_3nDcb",isFollowing:"_2br-F",followIcon:"_2BKrY"}},C4Tp:function(e,t,a){e.exports={fontWeightNormal:"_27Bp2",gutter:"calc(4px * 3)",placeholderBackground:"_2VWD4",heading:"_1-q17 _27Bp2",placeholderItem:"_2x0NQ _2VWD4"}},DYS2:function(e,t,a){e.exports={spacingUnit:"4px",fontWeightNormal:"_27Bp2",colorFacebook:"#1778f2",colorTwitter:"#1da1f2",colorPinterest:"#bd081c",colorGrey700:"#767676",containerPaddingUnit:"calc(4px * 4)",cellPaddingUnit:"calc(4px * 2)",cellPaddingUnitHalf:"4px",headerFontSize:"21px",smallFontSize:"12px",container:"_2VlB5",cell:"_1dPrd",halfCell:"_201D8",title:"_32uh- _27Bp2",subtitle:"_2B7-n",shareLinks:"_3E7sP",shareLinkContainer:"_1J04C",shareLink:"_2SPjs",shareLinkIcon:"_2U6YH",facebookShareLinkIcon:"_272Go _2U6YH",twitterShareLinkIcon:"_1tkzW _2U6YH",pinterestShareLinkIcon:"ZO3Vz _2U6YH",emailShareLinkIcon:"_2L646 _2U6YH",shareLinkText:"_1Wr08"}},Ha4l:function(e,t,a){e.exports={colorGrey700:"#767676",colorBlack:"#111",transitionSpeedBase:"0.1s",descriptionExpanded:"_2tqNT",descriptionTruncationNotRequired:"_1fn3S",descriptionTruncated:"_3kvp0"}},J4Es:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return d}));var o,n=a("q1tI"),i=a.n(n),r=a("/MKj"),c=a("b2r9"),s=a("pq3u"),l=a("uNqx"),u=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(a[o[n]]=e[o[n]])}return a};!function(e){e.StaticRoute="StaticRoute",e.DynamicRoute="DynamicRoute"}(o||(o={}));const d=({routeType:e})=>t=>{class a extends n.Component{componentDidUpdate(){e===o.DynamicRoute?this.props.dynamicRouteComponentUpdated():this.props.staticRouteComponentUpdated()}render(){const e=this.props,{dynamicRouteComponentUpdated:a,staticRouteComponentUpdated:o}=e,n=u(e,["dynamicRouteComponentUpdated","staticRouteComponentUpdated"]);return i.a.createElement(t,Object.assign({},n))}}a.displayName="TrackRouteUpdates(".concat(Object(l.a)(t),")");const d=Object(s.b)()({dynamicRouteComponentUpdated:c.a.DynamicRouteComponentUpdated,staticRouteComponentUpdated:c.a.StaticRouteComponentUpdated});return Object(r.c)(null,d)(a)}},OMXo:function(e,t){},OlR6:function(e,t,a){"use strict";var o=a("TSYQ"),n=a.n(o),i=a("bnCs"),r=a("q1tI"),c=a.n(r),s=a("KwrD"),l=a("GBJA");var u=Object(l.a)("M0 26c0 1.7.2 3.3.6 4.9.2.9.7.9 1 0 2.1-5.3 5.5-10.3 11.1-11.3h3.3v4.4c0 2 1.2 2.6 2.6 1.4l12.8-11c.7-.6.7-1.6 0-2.3l-12.8-11c-1.4-1.3-2.6-.6-2.6 1.3v4.7c-9.6 1.6-16 9.4-16 18.9z"),d=a("EYcW"),p=a("zzft"),h=a.n(p);var m=Object(s.b)(class extends r.PureComponent{getMaybeShareFunction(){const{renderType:e}=this.props,t=s.a.match({Enhanced:()=>d.x(window),Unenhanced:()=>d.u})(e),a=Object(i.pipeWith)(t,d.b(e=>void 0!==e.navigator.share?d.x(t=>e.navigator.share(t)):d.u));return Object(i.pipeWith)(a,d.q(e=>{const{shareOptions:t}=this.props;return()=>e(t)}))}renderContent(){return c.a.createElement("div",{className:h.a.flexContainer},c.a.createElement(u,{className:h.a.icon}),c.a.createElement("span",{className:h.a.text},"Share"))}render(){const{shareLocationDescriptor:e,className:t,renderButton:a,renderLink:o}=this.props,r=this.getMaybeShareFunction(),c={className:n()(h.a.flexContainer,t),buttonType:"outline",buttonSize:"small",children:this.renderContent()};return Object(i.pipeWith)(r,d.q(e=>a(Object.assign(Object.assign({},c),{onClick:e}))),d.l(()=>o(Object.assign(Object.assign({},c),{to:e}))))}});a.d(t,"a",(function(){return m}))},P7Ab:function(e,t){},PR1y:function(e,t,a){e.exports={colorGrey400:"#d1d1d1",colorGrey700:"#767676",fontWeightMedium:"xLon9",lineHeightTitle:"U8wGh",lineHeightCopy:"_13hUA",containerPaddingUnit:"16px",cellPaddingUnit:"8px",headerFontSize:"21px",smallFontSize:"12px",placeholderBackground:"_2VWD4",container:"GsRsU",cell:"OvIL7",col:"_2h_od",containerTitle:"_2W85y GsRsU",containerFooter:"_2nGrZ GsRsU",title:"_1O2YL U8wGh",datePublished:"_20_Cd",p:"_2RZS2",stats:"_2ubxv GsRsU",stat:"_3RCup OvIL7 _2h_od",statLabel:"_1B_HL",statLabelIcon:"_1kcMz",statLabelText:"BDwt5 xLon9",statValue:"_2-5Ws",statValueTotal:"_27bvm _13hUA",statValueDelta:"_35klY",metadataItemName:"AGaj-",hr:"_2WPYY",metadata:"CrelI GsRsU",metadataItem:"_4YY-Z OvIL7 _2h_od",metadataItemValue:"_2YZoB",statValueTotalPlaceholder:"_1Y0Eq _2VWD4",statValueDeltaPlaceholder:"_3ADSg _2VWD4"}},Qx4Z:function(e,t,a){e.exports={colorWhite:"#fff",colorGrey700:"#767676",outerHorizontalGutter:"16px",innerHorizontalGutter:"8px",cellPadding:"calc(8px / 2)",container:"_307c3",actions:"_3-6v7",cell:"_2iWc-",buttonCell:"_27vvN _2iWc-",photographer:"HAAez _2iWc-",downloadButtonCell:"_13Q- _27vvN _2iWc-",downloadButton:"_1AA_u",editPhotoButton:"_2CQGn",secondaryLabel:"_2cSl3",paginationLink:"FeDt5 _27vvN _2iWc-"}},RwKq:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var o=a("oHrl"),n=a.n(o),i=a("bnCs"),r=a("uYHa");const c=a("EYcW").j(({width:e,height:t})=>[e,t].some(r.b)),s=Object(i.pipe)(n.a,c)},UzCZ:function(e,t,a){"use strict";a.r(t);var o=a("bnCs"),n=a("q1tI"),i=a.n(n),r=a("wSuE"),c=a("/MKj"),s=a("b2r9"),l=a("acyj"),u=a("d8i8"),d=a("OcE/"),p=a("pq3u"),h=a("TRoG"),m=a("J4Es"),b=a("KwrD"),g=a("HrMy"),O=a("EYcW"),j=a("IQRp"),f=a("K0E8"),I=a("soY1"),E=a("IVTL"),y=a("wmOD"),T=a("Jekn"),v=a("fxC5"),D=a("NbrK"),_=a("gDEP"),R=a("g9Q9"),w=a("m/u0"),S=a("dyzQ"),C=a("Fv/u"),x=a("4/vE"),N=a("fVvt"),W=a.n(N);const P=e=>({backgroundImage:["linear-gradient(hsla(0, 0%, 100%, 0.8), white 150px)",Object(D.i)(e)].join(", ")}),L=({rawPhotoUrl:e,maybeImgCurrentSrc:t})=>{return Object(o.pipeWith)(t,O.l(()=>(e=>Object(_.b)(e)({w:200,blur:20}))(e)))},k=({rawPhotoUrl:e,maybeImgCurrentSrc:t})=>Object(o.pipeWith)(L({rawPhotoUrl:e,maybeImgCurrentSrc:t}),P),U=C.a.Windowed({scrollableOverlay:!0,contentClassName:W.a.modalWindowedContentModifier}),q={scrollableOverlay:!0,contentClassName:W.a.modalWindowedContentModifier};var A=({photoId:e,rawPhotoUrl:t,location:a,children:r})=>{const[c]=Object(o.pipeWith)(Object(n.useContext)(S.a),O.k()),s=Object(w.b)(e,c);return i.a.createElement(x.a,{redirectTo:{pathname:Object(R.d)({photoId:e})},location:a,contentStyles:k({rawPhotoUrl:t,maybeImgCurrentSrc:s}),mobileLayout:U,tabletUpWindowedLayout:q},r)},F=a("fqlR"),B=a("aMqU"),M=a("GBJA");var G=Object(M.a)("M27.5 18.08a1 1 0 0 0-1.42 0l-9.08 8.59v-23.67a1 1 0 0 0-2 0v23.67l-9.08-8.62a1 1 0 1 0-1.38 1.45l10.77 10.23a1.19 1.19 0 0 0 .15.09.54.54 0 0 0 .16.1.94.94 0 0 0 .76 0 .54.54 0 0 0 .16-.1l.15-.09 10.77-10.23a1 1 0 0 0 .04-1.42z");var z=Object(M.a)("M31.8 15.1l-.2-.4c-3.5-6.9-9.7-11.5-15.6-11.5-6.3 0-12.3 4.5-15.7 11.7l-.2.4c-.2.5-.2 1.1 0 1.6l.2.4c3.6 7 9.7 11.5 15.6 11.5 6.3 0 12.3-4.5 15.6-11.6l.2-.4c.4-.5.4-1.2.1-1.7zm-2 1.2c-3 6.5-8.3 10.5-13.8 10.5-5.2 0-10.6-4.1-13.8-10.4l-.2-.4.1-.3c3.1-6.5 8.4-10.5 13.9-10.5 5.2 0 10.6 4.1 13.8 10.4l.2.4-.2.3zm-13.8-6.6c-3.5 0-6.3 2.8-6.3 6.3s2.8 6.3 6.3 6.3 6.3-2.8 6.3-6.3-2.8-6.3-6.3-6.3zm0 10.6c-2.4 0-4.3-1.9-4.3-4.3s1.9-4.3 4.3-4.3 4.3 1.9 4.3 4.3-1.9 4.3-4.3 4.3z"),H=a("+nE3"),Z=a("6SPB"),V=a("/h9T"),Y=a("/Tr7"),J=a("jIYg");function K(e,t){Object(J.a)(2,arguments);var a=Object(Y.a)(e),o=Object(V.a)(t),n=a.getMonth()+o,i=new Date(0);i.setFullYear(a.getFullYear(),n,1),i.setHours(0,0,0,0);var r=function(e){Object(J.a)(1,arguments);var t=Object(Y.a)(e),a=t.getFullYear(),o=t.getMonth(),n=new Date(0);return n.setFullYear(a,o+1,0),n.setHours(0,0,0,0),n.getDate()}(i);return a.setMonth(n,Math.min(r,a.getDate())),a}var Q=a("AcPn");const X=e=>"ƒ/".concat(e),$=e=>"".concat(e,"s"),ee=e=>"".concat(e,"mm"),te=({stat:e,photo:t})=>{const a=Object(o.pipeWith)(t.created_at,Q.c)<function(e,t){return Object(J.a)(2,arguments),K(e,-Object(V.a)(t))}(new Date,1)?O.x(e.historical.change):O.u;return Object(o.pipeWith)(a,O.q(e=>"".concat(Object(B.e)(e)," since last month")),O.l(()=>"since publishing"))};var ae,oe=a("PR1y"),ne=a.n(oe);!function(e){e[e.views=0]="views",e[e.downloads=1]="downloads"}(ae||(ae={}));const ie=O.n(e=>f.l(e)||f.m(e)?O.x(e):O.u),re=({photo:e,type:t,statRemoteData:a})=>{const n=(e=>{switch(e){case ae.views:return z;case ae.downloads:return G}})(t);return i.a.createElement("div",{className:ne.a.stat},i.a.createElement("dt",{className:ne.a.statLabel},i.a.createElement(n,{className:ne.a.statLabelIcon}),i.a.createElement("span",{className:ne.a.statLabelText},(e=>{switch(e){case ae.views:return"Views";case ae.downloads:return"Downloads"}})(t))),(({photo:e,statRemoteData:t})=>{const a=Object(o.pipeWith)(t,O.j(ie),O.k());switch(a._tag){case"RemoteSuccess":{const t=a.value;return i.a.createElement("dd",{className:ne.a.statValue},i.a.createElement("span",{className:ne.a.statValueTotal},Object(B.b)(t.total)),i.a.createElement("span",{className:ne.a.statValueDelta},te({stat:t,photo:e})))}case"RemotePending":return i.a.createElement("dd",{className:ne.a.statValue},i.a.createElement("div",{className:ne.a.statValueTotalPlaceholder}),i.a.createElement("div",{className:ne.a.statValueDeltaPlaceholder}))}})({photo:e,statRemoteData:a}))},ce=({photo:e,statsRemoteData:t})=>i.a.createElement("dl",{className:ne.a.stats},re({photo:e,type:ae.views,statRemoteData:Object(o.pipeWith)(t,f.n(e=>e.views))}),re({photo:e,type:ae.downloads,statRemoteData:Object(o.pipeWith)(t,f.n(e=>e.downloads))}),i.a.createElement("div",{className:ne.a.stat})),se=({photo:e,maybeCachedPhotoStats:t,photoStatsRemoteData:a})=>Object(o.pipeWith)(t,O.q(t=>ce({photo:e,statsRemoteData:f.p({views:t.views,downloads:t.downloads})})),O.a(()=>Object(o.pipeWith)(a,f.e(()=>O.u,()=>O.x(ce({photo:e,statsRemoteData:f.o})),e=>O.x((e=>i.a.createElement("div",{className:ne.a.container},i.a.createElement("div",{className:ne.a.cell},i.a.createElement("p",{className:ne.a.p},"Sorry, there was an error loading stats. Please try again later."))))()),t=>O.x(ce({photo:e,statsRemoteData:f.p({views:t.views,downloads:t.downloads})})))))),le=({photo:e})=>{const t=(({photo:e})=>{return[{name:"Camera Make",value:Object(o.pipeWith)(O.i(e.exif.make),O.e(I.c))},{name:"Camera Model",value:O.i(e.exif.model)},{name:"Focal Length",value:Object(o.pipeWith)(O.i(e.exif.focal_length),O.q(ee))},{name:"Aperture",value:Object(o.pipeWith)(O.i(e.exif.aperture),O.q(X))},{name:"Shutter Speed",value:Object(o.pipeWith)(O.i(e.exif.exposure_time),O.q($))},{name:"ISO",value:O.i(e.exif.iso)},{name:"Dimensions",value:O.x("".concat(e.width," × ").concat(e.height))}].map(({name:e,value:t})=>({name:e,value:Object(o.pipeWith)(t,O.l(()=>"--"))}))})({photo:e});return i.a.createElement("dl",{className:ne.a.metadata},t.map(({name:e,value:t})=>i.a.createElement("div",{key:e,className:ne.a.metadataItem},i.a.createElement("dt",{className:ne.a.metadataItemName},e),i.a.createElement("dd",{className:ne.a.metadataItemValue},t))))},ue=({photo:e,photoFullRemoteData:t})=>H.e(e)?O.x(le({photo:e})):Object(o.pipeWith)(t,f.e(()=>O.u,()=>O.x((()=>i.a.createElement("div",{className:ne.a.container},i.a.createElement("div",{className:ne.a.cell},i.a.createElement(Z.a,{padContentBelow:!1}))))()),e=>O.x((e=>i.a.createElement("div",{className:ne.a.container},i.a.createElement("div",{className:ne.a.cell},i.a.createElement("p",{className:ne.a.p},"Sorry, there was an error loading metadata. Please try again later."))))()),e=>O.x(le({photo:e}))));var de=({photo:e,photoFullRemoteData:t,photoStatsRemoteData:a})=>{const n=Object(o.pipeWith)(Object(B.c)(e.created_at),O.k()),r=H.c(e)?O.x(e.statistics):O.u,c=Object(F.b)({render:e=>e})([{key:"stats",maybeEl:se({photo:e,maybeCachedPhotoStats:r,photoStatsRemoteData:a})},{key:"metadata",maybeEl:ue({photo:e,photoFullRemoteData:t})}]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:ne.a.containerTitle},i.a.createElement("div",{className:ne.a.cell},i.a.createElement("h2",{className:ne.a.title},"Info"),i.a.createElement("span",{className:ne.a.datePublished},"Published on ",i.a.createElement("time",{dateTime:e.created_at},n)))),Object(F.a)(c,e=>i.a.createElement("hr",{key:"separator-".concat(e),className:ne.a.hr})))};var pe=({photo:e,photoId:t,photoFullRemoteData:a,photoStatsRemoteData:o,location:n})=>i.a.createElement(A,{photoId:t,location:n,rawPhotoUrl:e.urls.raw},i.a.createElement(de,{photo:e,photoFullRemoteData:a,photoStatsRemoteData:o})),he=a("TSYQ"),me=a.n(he),be=a("TJpk"),ge=a.n(be),Oe=a("m2xi"),je=a.n(Oe),fe=a("s6EG"),Ie=a("9G+b"),Ee=a("vjdK"),ye=a("JlLI");const Te=Object(o.pipe)(R.d,Ee.a),ve=({photo:e,maybeSubRoute:t,user:a})=>{const n=(({user:e,photo:t})=>{const a=O.j(H.e)(t),n=O.i(t.alt_description),i=Object(o.pipeWith)(n,O.q(e=>"".concat(e," photo"))),r=Object(o.pipeWith)(a,O.b(e=>ye.g(e.tags)),O.q(e=>"Free ".concat(je()(e.title)," Image on Unsplash")));return Object(o.pipeWith)(O.w(i,r),O.q(([e,t])=>[e,t].join(" – ")),O.a(()=>r),O.a(()=>Object(o.pipeWith)(i,O.q(e=>[e,"Free Image on Unsplash"].join(" – ")))),O.m("HD photo by ".concat(e.name)))})({user:a,photo:e}),i=((e,t)=>{const a=["Download this free HD photo"];if(H.e(t)){const e=Object(o.pipeWith)(Object(Ie.a)(t.tags),O.m(""));a.push("of",e)}const n=O.j(H.e)(t),i=ye.a([Object(o.pipeWith)(n,O.t(e=>e.location.city)),Object(o.pipeWith)(n,O.t(e=>e.location.country))]);if(i.length>0){const e=i.join(", ");a.push("in ".concat(e))}return a.push("by ".concat(e.name," (@").concat(e.username,")")),a.join(" ")})(a,e),r=Te({photoId:e.id,maybeSubRoute:t}),c=(e=>"Photo by ".concat(e.name," on Unsplash"))(a),s=(({user:e,photo:t})=>{const a="Download this photo by ".concat(e.name," on Unsplash");return ye.a([O.i(t.description),O.x(a)]).join(". ")})({user:a,photo:e});return Object(fe.f)({userOption:O.x(a),photoOption:O.x(e),title:n,description:i,socialTitleOption:O.x(c),socialDescriptionOption:O.x(s),canonicalUrl:r})};var De=a("QH2T"),_e=a("mjVK"),Re=a("EqpS"),we=a("55Ip"),Se=a("hyvg"),Ce=a("G954"),xe=a("yQCG"),Ne=a("tD8i"),We=a("h8Sd"),Pe=a("FXv3"),Le=a("35id"),ke=a("zrLP"),Ue=a("OlR6"),qe=a("IsKo"),Ae=a("QFtp"),Fe=a("8hMo"),Be=a.n(Fe);const Me=Object(Ae.unionize)({NotRequired:{},Truncated:Object(Ae.ofType)(),Expanded:Object(Ae.ofType)()}),Ge=({onRequestToggle:e,shouldTruncateIfRequired:t,shouldShowTruncateButtonWhenExpanded:a},{doesRequireTruncation:o,shouldForceTruncation:n})=>o?n||t?Me.Truncated({onRequestToggle:e}):Me.Expanded({onRequestToggle:e,shouldShowTruncateButton:a}):Me.NotRequired(),ze=e=>e.offsetWidth<e.scrollWidth;var He=class extends n.PureComponent{constructor(e){super(e),this.updateRef=e=>{this.textElRef=e},this.state=this.getInitialState()}getInitialState(){return{doesRequireTruncation:!0,shouldForceTruncation:!0}}componentDidMount(){const e=(()=>{const e=Object(o.pipeWith)(O.i(this.textElRef),O.k());return ze(e)})();this.setState({doesRequireTruncation:e,shouldForceTruncation:!1})}render(){const{text:e,containerClassNameTruncated:t,containerClassNameExpanded:a,containerClassNameTruncationNotRequired:n}=this.props,r=Ge(this.props,this.state),c=Me.match({Truncated:({onRequestToggle:e})=>O.x({buttonText:"Read more",onRequestToggle:e}),Expanded:({onRequestToggle:e,shouldShowTruncateButton:t})=>t?O.x({buttonText:"Show less",onRequestToggle:e}):O.u,NotRequired:()=>O.u})(r);return i.a.createElement("div",{className:me()(Me.match({Truncated:()=>[Be.a.containerTruncated,t],Expanded:()=>[a],NotRequired:()=>[n]})(r))},i.a.createElement("p",{ref:this.updateRef,className:me()(Be.a.text,Me.match({Truncated:()=>Be.a.textTruncated,default:()=>Be.a.textNotTruncated})(r))},e)," ",Object(o.pipeWith)(c,O.q(({buttonText:e,onRequestToggle:t})=>i.a.createElement("button",{className:Be.a.toggleButton,onClick:t,type:"button"},e)),O.A))}},Ze=a("Ha4l"),Ve=a.n(Ze);var Ye=Object(qe.progressivelyEnhance)(({description:e,shouldTruncate:t,onRequestToggleTruncation:a})=>i.a.createElement(He,{key:e,text:e,containerClassNameTruncationNotRequired:Ve.a.descriptionTruncationNotRequired,containerClassNameExpanded:Ve.a.descriptionExpanded,containerClassNameTruncated:Ve.a.descriptionTruncated,shouldTruncateIfRequired:t,shouldShowTruncateButtonWhenExpanded:!1,onRequestToggle:a})),Je=a("pKCy"),Ke=a.n(Je);const Qe=e=>i.a.createElement("div",{className:Ke.a.textContainerItem},e),Xe=({subRoute:e,location:t,photo:a})=>({pathname:Object(R.d)({photoId:a.id,maybeSubRoute:O.x(e)}),state:t.state}),$e=Object(p.e)()({authUserOption:y.e});var et=Object(c.c)($e)(({photo:e,shouldTruncateDescription:t,onRequestToggleTruncatedDescription:a,authUserOption:n,user:r})=>{const c=Object(xe.b)(),s=Xe({subRoute:Se.c.info,location:c,photo:e}),l=Xe({subRoute:Se.c.share,location:c,photo:e}),u=O.i(e.description),d=Object(o.pipeWith)(O.x(e),O.e(H.e),O.b(e=>O.i(e.location.name)),O.e(I.c)),p=Object(o.pipeWith)(n,O.d(e=>e.id===r.id)),h={url:e.links.html,title:Object(o.pipeWith)(O.i(e.alt_description),O.m("")),text:Object(Ce.b)(r)};return i.a.createElement("div",{className:Ke.a.container},i.a.createElement("div",{className:Ke.a.textContainer},Object(o.pipeWith)(d,O.q(e=>i.a.createElement(we.a,{to:Object(R.f)(e),className:Ke.a.locationLink},i.a.createElement(We.a,{className:Ke.a.locationIcon}),i.a.createElement("span",{className:Ke.a.locationTitle},e))),O.q(Qe),O.A),Object(o.pipeWith)(u,O.q(e=>i.a.createElement(Ye,{description:e,shouldTruncate:t,onRequestToggleTruncation:a})),O.q(Qe),O.A)),p&&i.a.createElement("div",{className:me()(Ke.a.cell,Ke.a.editPhotoButtonContainer)},i.a.createElement(Le.a,{photoId:e.id,type:"default"})),i.a.createElement("div",{className:Ke.a.cell},i.a.createElement(Ue.a,{shareLocationDescriptor:l,shareOptions:h,renderButton:e=>i.a.createElement(Pe.a,Object.assign({tag:"button"},e,{type:"button"})),renderLink:e=>i.a.createElement(ke.a,Object.assign({},e))})),i.a.createElement("div",{className:Ke.a.cell},i.a.createElement(ke.a,{className:Ke.a.button,buttonType:"outline",buttonSize:"small",to:s},i.a.createElement(Ne.a,{className:Ke.a.buttonIcon}),i.a.createElement("span",{className:Ke.a.buttonText},"Info"))))}),tt=a("M9j0"),at=a("KPJC"),ot=a("dkli"),nt=a("5dpl"),it=a("aOaN"),rt=a("Qx4Z"),ct=a.n(rt);const st=Object(p.c)()((e,{photoId:t})=>({photo:Object(T.a)(e,t),authUserOption:Object(y.e)(e)}));var lt=Object(o.pipeWith)(({className:e,photo:t,isLoggedIn:a,authUserOption:n})=>{const r=a?void 0:"green",c=a?"Download":"Download free",s=Object(o.pipeWith)(n,O.d(e=>e.id===t.userId)),l=Object(o.pipeWith)(O.i(t.sponsorship),O.q(e=>it.a.Sponsored({sponsorship:e,secondaryLabelClassName:ct.a.secondaryLabel})),O.l(()=>it.a.NotSponsored({shouldShowUsername:!0})));return i.a.createElement("header",{className:me()(e,ct.a.container)},i.a.createElement("div",{className:ct.a.photographer},i.a.createElement(nt.a,{userId:t.userId,contentType:l,type:"emphasiseUsername"})),i.a.createElement("div",{className:ct.a.actions},i.a.createElement("div",{className:ct.a.buttonCell},s&&i.a.createElement(Le.a,{photoId:t.id,type:"default",className:ct.a.editPhotoButton}),i.a.createElement(ot.a,{photoId:t.id})),i.a.createElement("div",{className:ct.a.buttonCell},i.a.createElement(tt.a,{photoId:t.id})),i.a.createElement("div",{className:ct.a.downloadButtonCell},i.a.createElement(at.a,{photoId:t.id,showLabel:!0,type:r,label:c,className:ct.a.downloadButton}))))},Object(c.c)(st)),ut=a("PCiO");var dt=Object(M.a)("M19 3v3h4.8l-4.4 4.5 2 2L26 8.2v5h3V3M6 24v-4.6H3V29h9.6v-3H8l5-5-2-2");var pt=Object(M.a)("M3 19v3h4.8l-4.4 4.5 2 2L10 24v5h3V19m9-11V3.4h-3V13h9.6v-3H24l5-5-2-2"),ht=a("eGjv"),mt=a("gcgR");const bt=({photoFull:e,user:t})=>{const a={"@context":"https://schema.org","@type":"ImageObject",author:{"@type":"Person",name:t.name},contentLocation:Object(o.pipeWith)(O.i(e.location.name),O.q(e=>({"@type":"Place",name:e})),O.A),contentUrl:e.urls.full,thumbnail:{"@type":"ImageObject",url:e.urls.thumb},datePublished:e.created_at,description:Object(o.pipeWith)(O.i(e.alt_description),O.A),name:Object(o.pipeWith)(O.i(e.alt_description),O.A),license:Object(Ee.a)(mt.s),width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),isAccessibleForFree:!0,isFamilyFriendly:!0,caption:Object(o.pipeWith)(O.i(e.description),O.a(()=>O.i(e.alt_description)),O.A),representativeOfPage:!0},n=JSON.stringify(a);return i.a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:n}})};var gt=a("uYHa"),Ot=a("jNAd"),jt=a("aGzw"),ft=a.n(jt);const It=Object(Ae.unionize)({Unenhanced:Object(Ae.ofType)(),Enhanced:Object(Ae.ofType)()}),Et=({magicalVerticalOffset:e})=>{const t=()=>{const t=Object(D.h)(10),a=20+e,o=Object(D.e)({styles:rt,key:"outerHorizontalGutter"});return{TOTAL_HORIZONTAL_PADDING:2*o,TOTAL_VERTICAL_PADDING:a,HORIZONTAL_PADDING_LENGTH:Object(D.h)(o),VERTICAL_PADDING_LENGTH:t}},a=Object(D.d)(1),{TOTAL_HORIZONTAL_PADDING:n,TOTAL_VERTICAL_PADDING:i}=t(),{IMAGE_WIDTH_CONSTRAINED_TO_VIEWPORT_WIDTH_LENGTH:r,IMAGE_HEIGHT_CONSTRAINED_TO_VIEWPORT_HEIGHT_LENGTH:c}=(()=>{const{TOTAL_HORIZONTAL_PADDING:e,TOTAL_VERTICAL_PADDING:o}=t();return{IMAGE_WIDTH_CONSTRAINED_TO_VIEWPORT_WIDTH_LENGTH:Object(D.a)("".concat(a," - ").concat(Object(D.h)(e))),IMAGE_HEIGHT_CONSTRAINED_TO_VIEWPORT_HEIGHT_LENGTH:Object(D.a)("".concat("100vh"," - ").concat(Object(D.h)(o)))}})(),s=({photoDimensions:e})=>{if(Object(Ot.b)(e)){const{width:t,height:a}=e,o=t/a;return(e=>Math.ceil(e*o))(500)}return 500},l=({photoDimensions:e})=>{const{width:t,height:a}=e,o=t/a,n=s({photoDimensions:e});return{minWidthLength:Object(D.h)(n),maxWidthLength:(e=>Object(D.a)("(".concat(e,") * ").concat(Object(gt.f)(o))))(c)}},u=()=>[{mediaCondition:jt.isFixedMediaCondition,width:a}],d=({photoDimensions:e,isZoomedOut:t})=>{if(t){const{minWidthLength:t,maxWidthLength:a}=l({photoDimensions:e}),{isMinSizeMediaConditions:o,isConstrainedByViewportHeightMediaCondition:c}=(({photoDimensions:e})=>{const{width:t,height:a}=e,o=a/t,r=s({photoDimensions:e}),c=(e=>Math.ceil(e*o))(r),l=["(max-width: ".concat(Object(D.h)(r+n),")"),"(max-height: ".concat(Object(D.h)(c+i),")")],u="".concat(t,"/").concat(a);return{isMinSizeMediaConditions:l,isConstrainedByViewportHeightMediaCondition:"(min-aspect-ratio: ".concat(u,")")}})({photoDimensions:e});return[...o.map(e=>({mediaCondition:e,width:t})),{mediaCondition:c,width:a},{width:r}]}return[{width:a}]},p=Object(o.pipe)(({photoDimensions:e,zoomableOptions:t})=>[...u(),...d({photoDimensions:e,isZoomedOut:t.isZoomedOut})],ut.e);return{getPaddingConstants:t,getImgSrcSetString:({photoDimensions:e,baseUrl:t})=>{const{width:a}=e,{lowerBound:o,upperBound:n}=(({photoDimensions:e})=>{const{width:t,height:a}=e,o=t/a;return{lowerBound:(e=>Math.ceil(e*o))(500),upperBound:t}})({photoDimensions:e});return Object(ut.b)({baseUrl:t,lowerBound:o,upperBound:n,originalWidth:a,interval:300,imgixParams:{q:80}})},getMinAndMaxWidthsLengths:l,getImgSizesString:p,createFallbackSrc:e=>Object(_.b)(e)({w:1e3,q:80})}};var yt=class extends n.PureComponent{constructor(e){super(e),this.renderZoomableImageOverlay=({isZoomedOut:e})=>{const t=e?dt:pt;return i.a.createElement("div",{className:ft.a.overlay},i.a.createElement("div",{className:ft.a.overlayChild},i.a.createElement(t,{className:ft.a.zoomToggleIcon})))},this.renderImage=()=>{const{photo:e,onImgLoad:t,magicalVerticalOffset:a,renderType:n}=this.props,{shouldUseInitialSrcIfAvailable:r}=this.state,c=e.urls.raw,{getImgSizesString:s,getImgSrcSetString:l,createFallbackSrc:u}=Et({magicalVerticalOffset:a}),{width:d,height:p}=e,h={width:d,height:p},m=s({zoomableOptions:n.zoomable,photoDimensions:h}),b=()=>l({photoDimensions:h,baseUrl:c}),g=u(c);return i.a.createElement(S.a.Consumer,null,a=>{const[n]=O.k()(a),c=Object(w.b)(e.id,n),s=r?Object(o.pipeWith)(c,O.q(e=>Object(ut.f)([{url:e}])),O.l(b)):b();return i.a.createElement(ht.a,{aspectRatio:e,containerClassName:ft.a.imagePlaceholder,sizes:m,srcSet:s,onLoad:t,src:g,alt:Object(o.pipeWith)(O.i(e.alt_description),O.A)})})},this.renderImageWithJsonLd=()=>{const{photo:e,user:t}=this.props,a=O.j(H.e)(e),n=Object(o.pipeWith)(a,O.q(e=>bt({photoFull:e,user:t})));return i.a.createElement(i.a.Fragment,null,Object(o.pipeWith)(n,O.z),this.renderImage())},this.renderZoomableImageButton=e=>{const{isZoomedOut:t,onRequestToggleZoom:a}=e,o=me()(ft.a.imageButton,t?ft.a.imageButtonZoomedOut:ft.a.imageButtonZoomedIn);return i.a.createElement("button",{className:o,onClick:a,type:"button"},this.renderZoomableImageOverlay(e),this.renderImageWithJsonLd())},this.renderZoomableImageContainer=()=>{const{photo:e,magicalVerticalOffset:t,renderType:a}=this.props,{getMinAndMaxWidthsLengths:o,getPaddingConstants:n}=Et({magicalVerticalOffset:t}),{isZoomedOut:r}=a.zoomable,{HORIZONTAL_PADDING_LENGTH:c,VERTICAL_PADDING_LENGTH:s}=n(),{width:l,height:u}=e,d={width:l,height:u},{minWidthLength:p,maxWidthLength:h}=o({photoDimensions:d});return i.a.createElement("div",{style:r?{padding:"".concat(s," ").concat(c)}:{}},i.a.createElement("div",{style:r?{minWidth:p,maxWidth:h}:{},className:ft.a.imageContainer},It.match({Unenhanced:this.renderImage,Enhanced:e=>this.renderZoomableImageButton(e.zoomable)})(a)))},this.state=this.getInitialState()}getInitialState(){return{shouldUseInitialSrcIfAvailable:!0}}componentDidMount(){requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.disableInitialSrc()})})}UNSAFE_componentWillReceiveProps(e){const{photo:t}=this.props;e.photo.id!==t.id&&this.setState(this.getInitialState)}componentDidUpdate(){this.state.shouldUseInitialSrcIfAvailable&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.state.shouldUseInitialSrcIfAvailable&&this.disableInitialSrc()})})}disableInitialSrc(){this.setState({shouldUseInitialSrcIfAvailable:!1})}render(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:ft.a.isFixed},this.renderImageWithJsonLd()),i.a.createElement("div",{className:ft.a.isZoomable},this.renderZoomableImageContainer()))}},Tt=a("tbx4"),vt=a("4raZ"),Dt=a("R3Dg"),_t=a("XhtD"),Rt=a("lpo+"),wt=a("RwKq"),St=a("C8EU"),Ct=a("peh1"),xt=a("PwPQ"),Nt=a("x5qg");const Wt=e=>Object(o.pipeWith)(h.c.Photos({photoId:e,maybeSubRoute:O.u}),xt.a);var Pt=a("75C9"),Lt=a("XJg7"),kt=a("CdAG"),Ut=a("Nb12");const qt=Pt.a.match({Phone:()=>12,Tablet:()=>24,Desktop:()=>24});var At=a("C4Tp"),Ft=a.n(At);const Bt=()=>j.d,Mt=Object(n.memo)(({columnCount:e,gutter:t})=>{const a=Object(n.useMemo)(()=>Object(_t.a)(18).map(()=>({width:250,height:250})),[]);return i.a.createElement(Lt.d,{shouldUseContainerPadding:!1,photos:a,getKey:(e,t)=>t,columnCount:e,renderPhoto:()=>i.a.createElement("div",{className:Ft.a.placeholderItem}),columnGutter:t,rowGutter:t})}),Gt=Rt.a.multi(),zt=({photoId:e})=>{const t=Wt(e),a=Object(n.useRef)(null),r=Object(wt.a)(a),c=Object(St.a)(Pt.f),s=qt(c),l=Object(n.useMemo)(()=>({mobileLayout:Gt,columnGutter:s}),[s]);return i.a.createElement("div",{ref:a},Object(o.pipeWith)(r,O.q(e=>{const a=(e=>e<=1e3?Lt.b:Lt.a)(e.width);return i.a.createElement(Ut.a,{feedId:t,fetchPhotos:Bt,getPlaceholderEl:()=>i.a.createElement(Mt,{columnCount:a,gutter:s})},e=>i.a.createElement(kt.a,{shouldUseContainerPadding:!1,grid:l,photos:e,columnCount:a,rowGutter:s}))}),O.z))},Ht=e=>i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",{className:Ft.a.heading},"Related photos"),i.a.createElement(zt,{photoId:e}));var Zt=({photoId:e,photoIdsRemoteData:t})=>Object(o.pipeWith)(t,f.e(()=>null,()=>Ht(e),()=>null,t=>{return ye.i(t)?null:Ht(e)})),Vt=a("wBxZ"),Yt=a("rd0y");const Jt=[...a("yNRK").a.map(({title:e,url:t})=>({title:e,linkUrl:t})),{title:"Free pictures",linkUrl:mt.m}],Kt=({originalPhotoTags:e,isLoggedIn:t})=>e.length>4&&!1===t,Qt=({photoId:e})=>Object(o.pipe)(Kt,t=>t?O.x((({photoId:e})=>ye.n({seed:e,array:Jt}))({photoId:e})):O.u),Xt=e=>{const t=e.type===Tt.RelatedCollectionsType.related?"Related collections":"Featured in",a=e.result_ids;return i.a.createElement(vt.a,{relatedCollectionIds:a,heading:t})},$t=Object(p.c)()((e,t)=>({isLoggedIn:Object(y.h)(e)}));var ea=Object(c.c)($t)(({photo:e,relatedPhotoIdsRemoteData:t,isLoggedIn:a})=>{const n=O.i(H.e(e)?e.related_collections:void 0),r=H.e(e)?O.x(e.tags):O.u;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Zt,{photoId:e.id,photoIdsRemoteData:t}),Object(o.pipeWith)(n,O.q(Xt),O.m(void 0)),Object(o.pipeWith)(r,O.q(t=>{const o=(({originalPhotoTags:e,photoId:t,isLoggedIn:a})=>{const o=ye.a([Qt({photoId:t})({originalPhotoTags:e,isLoggedIn:a})]);return[...Object(Vt.a)(e,Yt.b),...o]})({originalPhotoTags:t,photoId:e.id,isLoggedIn:a});return i.a.createElement(Dt.a,{headingCopy:"Related tags",tags:o,showHeading:!0,maximumResultsCount:1/0})}),O.A))}),ta=a("3p8y"),aa=a.n(ta);var oa=Object(n.memo)(({location:e,photo:t,maybeUser:a,relatedPhotoIdsRemoteData:n,onMainImageLoad:r,shouldTruncateDescription:c,onRequestToggleTruncatedDescription:s,isLoggedIn:l,children:d,mainImageRenderType:p,maybeSubRoute:h})=>{const m=Object(u.c)(e),b=m?155:200,g=Object(o.pipeWith)(a,O.k());return i.a.createElement("div",Object.assign({},Object(_e.a)(De.n)),i.a.createElement("div",{className:aa.a.wrapper},i.a.createElement(ge.a,Object.assign({},ve({photo:t,maybeSubRoute:h,user:g}))),i.a.createElement("div",null,i.a.createElement("div",{className:me()(m&&aa.a.stickyHeaderContainer)},i.a.createElement(lt,{photoId:t.id,isLoggedIn:l,className:m?aa.a.stickyHeader:void 0})),i.a.createElement(Re.a,{photoId:t.id},i.a.createElement(yt,{renderType:p,photo:t,onImgLoad:r,magicalVerticalOffset:b,user:g})),i.a.createElement(et,{photo:t,shouldTruncateDescription:c,onRequestToggleTruncatedDescription:s,user:g})),i.a.createElement("div",{className:aa.a.container},i.a.createElement(ea,{photo:t,relatedPhotoIdsRemoteData:n}))),d)}),na=a("vkVY"),ia=a("5ZMw"),ra=a("SORa"),ca=a("41dW");var sa=({photo:e,maybeUser:t})=>{const a=e.links.html,n=Object(o.pipeWith)(t,O.k()),r=e=>Object(na.e)(a,{utmSource:e,utmContent:ia.f.PHOTOS_PAGE_SHARE}),c=Object(Ce.b)(n),s=Object(_.b)(e.urls.raw)({w:2e3}),l=[{url:r(ia.h.FACEBOOK),type:ra.a.facebook()},{url:r(ia.h.PINTEREST),type:ra.a.pinterest({message:c,media:s})},{url:r(ia.h.TWITTER),type:ra.a.twitter({message:c})},{url:r(ia.h.EMAIL),type:ra.a.email()}];return i.a.createElement(ca.a,{title:"Photo by ".concat(n.name),buttonsShareProps:l,link:a})};var la=({photo:e,photoId:t,location:a,maybeUser:o})=>i.a.createElement(A,{photoId:t,location:a,rawPhotoUrl:e.urls.raw},i.a.createElement(sa,{photo:e,maybeUser:o})),ua=a("ZfPj"),da=a("gI8/");const pa=Object(p.d)()(()=>{const e=Object(da.c)();return(t,{routeData:a})=>({staleDataOption:e(t,a)})});var ha=Object(c.c)(pa)(class extends n.Component{constructor(){super(...arguments),this.routeChangeSubject=new j.f,this.unmountSubject=new j.f}componentDidMount(){this.fetchDataIfNecessary()}componentDidUpdate(e){const{subRoute:t}=this.props;t!==e.subRoute&&(this.routeChangeSubject.next(),this.fetchDataIfNecessary())}fetchDataIfNecessary(){const{routeData:e,dispatch:t,history:a,staleDataOption:n}=this.props;if(Object(o.pipeWith)(n,O.o)){const o=[s.a.IncrementDataFetchingCounter(),...Object(da.a)(e)];Object(c.b)(()=>{o.forEach(t)}),Object(da.b)(l.a)(e).pipe(j.Z(j.G(this.routeChangeSubject,this.unmountSubject))).subscribe({next:e=>{Object(c.b)(()=>{[s.a.RouteDataUpdated(),...e].forEach(t)})},error:Object(ua.b)(t,a),complete:()=>{this.props.dispatch(s.a.DecrementDataFetchingCounter())}})}}componentWillUnmount(){this.unmountSubject.next(),this.unmountSubject.complete(),this.props.dispatch(s.a.DecrementDataFetchingCounter())}render(){return this.props.children}});const ma=e=>Object(o.pipeWith)(O.i(e.currentSrc),O.e(I.c),O.a(()=>Object(o.pipeWith)(O.i(e.src),O.e(I.c))));class ba extends n.PureComponent{constructor(){super(...arguments),this.onRootRouteLeaveSubject=new j.f,this.state=this.getInitialState(),this.onRequestMainImageToggleZoom=()=>{g.b.addBreadcrumb({category:g.a.PhotoPage,message:"request toggle main image zoom"}),this.trackToggleZoomableMainImageZoom(),this.toggleZoomableMainImageZoom()},this.onRequestToggleTruncatedDescription=()=>{const{location:e,history:t}=this.props;g.b.addBreadcrumb({category:g.a.PhotoPage,message:"request toggle truncated description"}),t.replace(Object(u.s)(e=>Object.assign(Object.assign({},e),{shouldTruncateDescription:!1===e.shouldTruncateDescription}))(e))},this.onMainImageLoad=e=>{this.setState({mainImageCurrentSrc:ma(e.currentTarget)})}}getDefaultState(){return{mainImageCurrentSrc:O.u}}getInitialState(){return this.getDefaultState()}componentDidMount(){this.fetchRelatedPhotosThenCacheAndSet()}componentDidUpdate(e){this.props.routeData.photoId!==e.routeData.photoId&&(this.cleanup(),this.fetchRelatedPhotosThenCacheAndSet())}componentWillUnmount(){this.cleanup()}cleanup(){this.onRootRouteLeaveSubject.next({})}updateRelatedPhotoIdsRemoteData(e){const{addPhotoFeedRemoteData:t,routeData:a}=this.props,{photoId:n}=a,i=Object(o.pipeWith)(e,f.n(e=>({lastPageFetched:1,perPage:e.length,total:e.length,ids:e})));t({feedId:Wt(n),request:i})}fetchRelatedPhotosThenCacheAndSet(){const{routeData:e,updateData:t,relatedPhotoIdsRemoteData:a,incrementDataFetchingCounter:n,decrementDataFetchingCounter:i}=this.props,{photoId:r}=e;if(!1===f.m(a)){const e=f.o;n(),this.updateRelatedPhotoIdsRemoteData(e),l.a.photos.getRelatedPhotos({photoId:r}).pipe(j.o(),j.w(f.h),j.E(f.n(e=>Object(d.f)(e.results))),j.Z(this.onRootRouteLeaveSubject)).subscribe({next:e=>{Object(o.pipeWith)(e,f.r,O.h(({entities:e})=>{t(e)})),this.updateRelatedPhotoIdsRemoteData(Object(o.pipeWith)(e,f.n(({result:e})=>e)))},complete:()=>{i()}})}}trackToggleZoomableMainImageZoom(){const{location:e,trackZoomedInPhoto:t,trackZoomedOutPhoto:a,routeData:o}=this.props,{photoId:n}=o,{zoomableMainImageOptions:i}=Object(u.m)(e);i.isZoomedOut?t(n):a(n)}toggleZoomableMainImageZoom(){const{history:e,location:t,pageModalScrollResetRequested:a}=this.props;Object(u.c)(t)&&a(),e.replace(Object(u.s)(e=>Object.assign(Object.assign({},e),{zoomableMainImageOptions:Object.assign(Object.assign({},e.zoomableMainImageOptions),{isZoomedOut:!1===e.zoomableMainImageOptions.isZoomedOut})}))(t))}renderSubRoute({photo:e,subRoute:t}){const{routeData:a,location:o,maybeUser:n,photoStatsRemoteData:r,photoFullRemoteData:c}=this.props,{photoId:s}=a,l=Object(E.a)()({location:o,photo:e,photoId:s});switch(t){case h.b.info:return i.a.createElement(pe,Object.assign({},l,{photoStatsRemoteData:r,photoFullRemoteData:c}));case h.b.share:return i.a.createElement(la,Object.assign({},l,{maybeUser:n}))}}renderSubRouteWithWrapper(e){const{routeData:t}=this.props;return Object(o.pipeWith)(t.maybeSubRoute,O.q(a=>i.a.createElement(ha,Object.assign({subRoute:a,routeData:t},Object(h.k)(this.props)),this.renderSubRoute({photo:e,subRoute:a}))),O.A)}render(){const{photoOption:e,maybeUser:t,location:a,isLoggedIn:n,relatedPhotoIdsRemoteData:r,renderType:c,routeData:s}=this.props,l=Object(u.m)(a),{shouldTruncateDescription:d}=l,p=b.a.match({Unenhanced:()=>It.Unenhanced({zoomable:{isZoomedOut:l.zoomableMainImageOptions.isZoomedOut}}),Enhanced:()=>It.Enhanced({zoomable:{isZoomedOut:l.zoomableMainImageOptions.isZoomedOut,onRequestToggleZoom:this.onRequestMainImageToggleZoom}})})(c);return Object(o.pipeWith)(e,O.q(e=>i.a.createElement(oa,{maybeSubRoute:s.maybeSubRoute,photo:e,maybeUser:t,location:a,relatedPhotoIdsRemoteData:r,onMainImageLoad:this.onMainImageLoad,mainImageRenderType:p,shouldTruncateDescription:d,onRequestToggleTruncatedDescription:this.onRequestToggleTruncatedDescription,isLoggedIn:n},this.renderSubRouteWithWrapper(e))),O.z)}}const ga=Object(p.d)()(()=>{const e=Object(T.g)(),t=Object(v.b)(),a=(()=>{const e=Object(Nt.b)();return Object(Ct.createSelector)((t,a)=>e(t,Wt(a)),f.n(({ids:e})=>e))})(),o=Object(v.d)(),n=Object(T.k)();return(i,r)=>{const{photoId:c}=r.routeData;return{photoOption:e(i,c),maybeUser:n(i,c),isLoggedIn:Object(y.h)(i),photoFullRemoteData:t(i,{photoId:c}),relatedPhotoIdsRemoteData:a(i,c),photoStatsRemoteData:o(i,{photoId:c})}}}),Oa=Object(p.b)()(Object(p.a)({updateData:s.N,trackZoomedInPhoto:s.K,trackZoomedOutPhoto:s.L,incrementDataFetchingCounter:s.a.IncrementDataFetchingCounter,decrementDataFetchingCounter:s.a.DecrementDataFetchingCounter,pageModalScrollResetRequested:s.m,addPhotoFeedRemoteData:s.a.AddPhotoFeedRemoteData}));var ja=Object(o.pipe)(()=>ba,Object(m.b)({routeType:m.a.DynamicRoute}),Object(c.c)(ga,Oa),b.b,r.hot)();a.d(t,"default",(function(){return ja}))},XCOq:function(e,t){},aGzw:function(e,t,a){e.exports={resetBtn:"_3d86A",spacingUnit:"4px",centerItem:"_3mCZ_",colorWhite:"#fff",colorGrey100:"#f5f5f5",isFixedMediaCondition:"(max-width: 767px)",isZoomableMediaCondition:"(min-width: 768px)",imagePlaceholder:"_2yFK-",imageContainer:"_1ac-D _3mCZ_",imageButton:"_1szcv _3d86A",overlay:"_2MKkb",imageButtonZoomedIn:"_2-OhB",imageButtonZoomedOut:"_1YS_6",overlayChild:"_1w7cG",zoomToggleIcon:"_1NYtf",isFixed:"pADQw",isZoomable:"_2QvSN"}},"aOk/":function(e,t,a){"use strict";var o;a.d(t,"a",(function(){return o})),function(e){e.UserProfile="user-profile",e.CollectionCard="collection-card",e.Related="related",e.About="about",e.HeaderTag="header-tag",e.PhotoTopic="photo-topic",e.HomepageHeader="homepage-header",e.PhotoSearchResult="photo-search-result",e.Explore="explore",e.LandingPage="landing-page"}(o||(o={}))},eSEV:function(e,t,a){"use strict";var o=a("wBxZ"),n=a("bnCs"),i=a("q1tI"),r=a.n(i),c=a("/MKj"),s=a("pq3u"),l=a("xOrC"),u=a("JlLI"),d=a("EYcW"),p=a("4YUS"),h=a("n53v"),m=a("TSYQ"),b=a.n(m),g=a("55Ip"),O=a("b2r9"),j=a("IVTL"),f=a("fO8F"),I=a.n(f);const E=({responseOption:e,trackSearchSuggestionClick:t})=>{const a=Object(j.a)()({className:b()(I.a.smallTag,Object(n.pipeWith)(e,d.g(()=>I.a.placeholder,()=>I.a.content)))});return Object(n.pipeWith)(e,d.g(()=>r.a.createElement("div",Object.assign({},a)),({tag:e,emplacement:o})=>r.a.createElement(g.a,Object.assign({},a,{to:e.linkUrl,title:e.titleAttribute,onClick:()=>t(e.title.toLowerCase(),o)}),e.title)))},y=Object(s.b)()({trackSearchSuggestionClick:O.I});var T=Object(c.c)(null,y)(E),v=(a("XCOq"),a("CPYz")),D=a.n(v),_=a("z6DF"),R=a("x4cj"),w=a("g9Q9"),S=a("fcws"),C=a("hyvg"),x=a("wmOD"),N=a("ENTD"),W=a("nyV6"),P=a("kY63");const L=e=>"".concat(e," images"),k=(e,t)=>Object(n.pipeWith)(t,d.q(t=>(e=>"type"in e)(t)?((e,t)=>{const a=Object(x.h)(e);return P.a.match(t,{search:({title:e})=>({title:e,titleAttribute:L(e),linkUrl:Object(w.f)(e)}),landing_page:({title:t,source:o})=>{const n=Object(W.a)(e,o);return{title:a?t:n.title,titleAttribute:a?L(t):n.title,linkUrl:N.c(n)}}})})(e,t):(e=>"linkUrl"in e)(t)?(e=>Object.assign(Object.assign({},e),{titleAttribute:L(e.title)}))(t):D()(t))),U=Object(_.a)(({tag:e,routeData:t})=>Object(n.pipeWith)(t,C.d.match({Search:Object(n.pipe)(w.e,d.x),LandingPage:Object(n.pipe)(S.a,d.x),default:()=>d.u}),d.d(t=>t===e.linkUrl)));var q=a("hBm8"),A=a.n(q);const F=({innerTags:e,emplacement:t,takeN:a})=>r.a.createElement("div",{className:A.a.tagsContainer},(Object(p.b)(a)?Object(o.a)(e,a):e).map((e,a)=>{const o=Object(n.pipeWith)([d.x(a.toString()),Object(n.pipeWith)(e,d.q(e=>e.title))],u.a,e=>e.join("-")),i=Object(n.pipeWith)(e,d.q(e=>({tag:e,emplacement:t})));return r.a.createElement("div",{key:o,className:A.a.tagItem},r.a.createElement(T,{responseOption:i}))})),B=Object(s.d)()(()=>{const e=(()=>Object(R.c)(({state:e,tags:t,routeData:a})=>t.map(t=>k(e,d.i(t))).filter(Object(n.pipe)(d.q(e=>U({tag:e,routeData:a})),d.m(!0)))))();return(t,a)=>({innerTags:e(Object.assign({state:t},Object(h.g)(a,"tags","routeData")))})});var M=Object(n.pipeWith)(F,Object(c.c)(B),l.b);a.d(t,"a",(function(){return M}))},fO8F:function(e,t,a){e.exports={colorGrey200:"#eee",placeholderText:"J3VG_ _2VWD4 _3zTbo",transitionSpeedBase:"0.1s",smallTag:"_6PxCM",content:"_2SmIi",placeholder:"_1eVat J3VG_ _2VWD4 _3zTbo"}},fVvt:function(e,t,a){e.exports={modalWindowedContentModifier:"_2AYJu"}},fqlR:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return u}));var o=a("I7gL"),n=a("bnCs"),i=a("q1tI"),r=a("JlLI"),c=a("EYcW");const s=({render:e})=>Object(n.pipe)(t=>t.map(({maybeEl:t,key:a})=>Object(n.pipeWith)(t,c.q(e),c.q((e=>t=>Object(i.cloneElement)(t,{key:e}))(a)))),r.a),l=({render:e,renderItem:t})=>Object(n.pipe)(s({render:t}),o.a,c.q(e)),u=(e,t)=>r.f(e.map((a,o)=>[a,...o===e.length-1?[]:[t(o)]]))},h8Sd:function(e,t,a){"use strict";var o=a("GBJA");t.a=Object(o.a)("M16 0c-6.7 0-12 5.3-12 12 0 8.6 8.6 17.3 11.2 19.7.4.4 1.1.4 1.5 0 2.7-2.4 11.3-11.1 11.3-19.7 0-6.7-5.3-12-12-12zm0 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z")},hBm8:function(e,t,a){e.exports={gutter:"8px",tagsContainer:"_2_OE1",tagItem:"_3Z-ua"}},iX5W:function(e,t,a){"use strict";var o=a("TSYQ"),n=a.n(o),i=a("7EGn"),r=a("bnCs"),c=a("q1tI"),s=a.n(c),l=a("/MKj"),u=a("Ty5D"),d=a("b2r9"),p=a("acyj"),h=a("d8i8"),m=a("2Fwo"),b=a("GBJA");var g=Object(b.a)("M31.2 12.8h-2.4v-2.4c0-.4-.4-.8-.8-.8h-1.6c-.4 0-.8.4-.8.8v2.4h-2.4c-.4 0-.8.4-.8.8v1.6c0 .4.4.8.8.8h2.4v2.4c0 .4.4.8.8.8h1.6c.4 0 .8-.4.8-.8v-2.4h2.4c.4 0 .8-.4.8-.8v-1.6c0-.4-.4-.8-.8-.8zm-15.2 5.1v-1.2c1.9-1.1 3.2-3.1 3.2-5.5v-1.6c0-3.5-2.9-6.4-6.4-6.4s-6.4 2.9-6.4 6.4v1.6c0 2.4 1.3 4.4 3.2 5.5v1.2c-5.5.9-9.6 4-9.6 7.7v1.6c0 .9.7 1.6 1.6 1.6h22.4c.9 0 1.6-.7 1.6-1.6v-1.6c0-3.7-4.1-6.8-9.6-7.7z"),O=a("IQRp"),j=a("4YUS"),f=a("IVTL"),I=a("wmOD"),E=a("XqAV"),y=a("FXv3"),T=a("zrLP"),v=a("BUGo"),D=a.n(v);const _=Object(f.a)()({labelText:{isFollowing:"Following",isNotFollowing:"Follow"}});class R extends c.Component{componentWillUnmount(){Object(j.b)(this.followSubscription)&&this.followSubscription.unsubscribe()}getLabelText(){const{labelText:e}=this.props;return this.props.user.followed_by_user?e.isFollowing:e.isNotFollowing}buildToLink(){const{location:e,user:t}=this.props;return Object(h.a)(e)(E.c.Login(E.b.Follow({userId:t.id})))}buildClickHandler(){const{authUser:e,user:t,followUser:a,unfollowUser:o,trackFollowButtonClick:n,trackUnfollowButtonClick:i,buttonType:r}=this.props;if(!1===Object(j.b)(e))return()=>n(t.id,r);const{username:c}=t,s=t.followed_by_user,l=(s?p.a.users.unfollowUser:p.a.users.followUser)({username:c}).pipe(O.P(3),O.X(1));return e=>{e.stopPropagation(),s?(o({userId:t.id}),i(t.id,r)):(a({userId:t.id}),n(t.id,r)),this.followSubscription=l.subscribe()}}renderContainer(e){const{user:t,className:a,authUser:o}=this.props,i=this.buildClickHandler(),r=t.followed_by_user,c=!1===Object(j.b)(o),l=Object(f.a)()({className:n()(D.a.followButton,r&&D.a.isFollowing,a),buttonSize:"small"});return c?s.a.createElement(T.a,Object.assign({to:this.buildToLink(),onMouseUp:i},l),e):s.a.createElement(y.a,Object.assign({tag:"button",onMouseUp:i},l,{type:"button"}),e)}render(){const{user:e,authUser:t}=this.props;return Object(i.a)(t,"username")===e.username?s.a.createElement("div",null):this.renderContainer(s.a.createElement("span",null,s.a.createElement(g,{className:D.a.followIcon}),this.getLabelText()))}}const w={trackFollowButtonClick:d.A,trackUnfollowButtonClick:d.J,followUser:d.a.FollowUser,unfollowUser:d.a.UnfollowUser};var S=Object(m.a)(Object(r.pipe)(()=>R,Object(l.c)(e=>({authUser:Object(I.a)(e)}),w),u.h)(),_);a.d(t,"a",(function(){return S}))},jNAd:function(e,t,a){"use strict";var o;a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i})),function(e){e.portrait="portrait",e.landscape="landscape",e.square="square"}(o||(o={}));const n=e=>{const t=(e=>{const{width:t,height:a}=e;return a>t?o.portrait:a<t?o.landscape:o.square})(e);return t===o.square||t===o.portrait},i=({aspectRatio:e,maxWidth:t})=>{return{width:t,height:t*(e.height/e.width)}}},kY63:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var o=a("QFtp");(()=>Object(o.unionize)({search:Object(o.ofType)(),landing_page:Object(o.ofType)()},{tag:"type"}))();const n=(()=>Object(o.unionize)({search:Object(o.ofType)(),landing_page:Object(o.ofType)()},{tag:"type"}))()},nyV6:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return s}));var o=a("bnCs"),n=a("wxrE"),i=a("Nigl");const r=e=>(t,a)=>Object(o.pipeWith)(t,n.i,t=>e(t,a)),c=r(i.a),s=Object(o.pipe)(i.d,r)},oHrl:function(e,t,a){"use strict";let{useCallback:o,useState:n,useLayoutEffect:i}=a("q1tI");function r(e){return e?{width:e.offsetWidth,height:e.offsetHeight}:{width:0,height:0}}e.exports=function(e){let[t,a]=n(r(e?e.current:{}));const c=o((function(){e.current&&a(r(e.current))}),[e]);return i(()=>{if(e.current){if(c(),"function"==typeof ResizeObserver){let t=new ResizeObserver(()=>c());return t.observe(e.current),()=>{t.disconnect(e.current),t=null}}return window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}}},[e.current]),t}},pKCy:function(e,t,a){e.exports={spacingUnit:"4px",colorBlack:"#111",truncate:"_1ByhS",fontWeightMedium:"xLon9",resetBtn:"_3d86A",outerHorizontalGutter:"16px",innerHorizontalGutter:"8px",cellPadding:"calc(8px / 2)",smallFontSize:"12px",container:"_1ltEq",cell:"_3dxKb",halfCell:"_3kEvh",textContainer:"_2DxLe _3kEvh",textContainerNotTruncated:"gfzKD",textContainerTruncated:"OD7Kw",textContainerItem:"_28uSB _3kEvh",locationLink:"_2RL3a xLon9",locationIcon:"_15of1",locationTitle:"_20NLS _1ByhS",button:"_3JXJ6",editPhotoButtonContainer:"_1RttL",buttonIcon:"_1rYbs",buttonText:"_1efgd"}},qvZe:function(e,t,a){"use strict";var o=a("GBJA");t.a=Object(o.a)("M17.4 29c-.8.8-2 .8-2.8 0l-12.3-12.8c-3.1-3.1-3.1-8.2 0-11.4 3.1-3.1 8.2-3.1 11.3 0l2.4 2.8 2.3-2.8c3.1-3.1 8.2-3.1 11.3 0 3.1 3.1 3.1 8.2 0 11.4l-12.2 12.8z")},tbx4:function(e,t,a){"use strict";a.d(t,"RelatedCollectionsType",(function(){return o}));var o;a("OMXo"),a("P7Ab");!function(e){e.related="related",e.collected="collected"}(o||(o={}))},umpm:function(e,t){e.exports=function(e,t){"use strict";if(!Array.isArray(e))throw new TypeError(String(e)+" is not an array. Expected an array.");function a(e){if("string"!=typeof t[e])throw new TypeError(String(t[e])+" is not a string. `"+e+"` option must be a string.")}return void 0===(t=t||{}).separator?t.separator=", ":a("separator"),void 0===t.lastSeparator?t.lastSeparator=" and ":a("lastSeparator"),0===e.length?"":1===e.length?e[0]:e.slice(0,-1).join(t.separator)+t.lastSeparator+e[e.length-1]}},yNRK:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var o=a("fcws"),n=a("SsV6");const i=[{title:"Public domain images",routeData:n.a.Subcategory({type:"images",category:"stock",subcategory:"public domain"})},{title:"Free stock photos",routeData:n.a.Category({type:"images",category:"stock"})},{title:"Creative Commons images",routeData:n.a.Subcategory({type:"images",category:"stock",subcategory:"creative common"})},{title:"PNG images",routeData:n.a.Subcategory({type:"images",category:"stock",subcategory:"png"})},{title:"Free images",routeData:n.a.Type({type:"images"})}].map(({title:e,routeData:t})=>({title:e,url:Object(o.a)(t)}))},zzft:function(e,t,a){e.exports={spacingUnit:"4px",flexContainer:"_10F2J",icon:"_1xhtJ",text:"_3UPwX"}}}]);
//# sourceMappingURL=photos-route.2b0d6.js.map